# CH02-04.IP 주소(p105~ p113)

키워드: IP 주소
Date: May 31, 2024
출처: 면접을 위한 CS 전공지식 노트

## ARP(Address Resolution Protocol)

- 컴퓨터간 통신은 IP 주소에서 ARP를 통해 MAC 주소를 찾은 뒤 MAC 주소를 기반으로 통신하게 된다.
- 즉, ARP란 **IP 주소(가상 주소)**로부터 **MAC 주소(실제 주소)**를 구하는 다리 역할을 하는 프로토콜
- RARP는 반대로 MAC 주소를 IP 주소로 변환
- 예를 들어, 장치 A가 다른 장치들에 **ARP Request 브로드캐스트**를 보내서 IP 주소에 해당하는 MAC 주소를 찾으려 함 → 해당 주소인 장치 B가 **ARP Reply 유니캐스트**를 통해 MAC주소를 반환하게 됨
    - **브로드캐스트** : 송신 호스트가 전송한 데이터가 네트워크에 연결된 모든 호스트에 전송
    - **유니캐스트** : 고유 주소로 식별된 하나의 목적지에 1:1 데이터 전송

## 홉바이홉 통신

- IP 주소를 통한 통신 과정
- 라우팅 테이블의 IP를 통해 시작 주소부터 시작하여 다음 IP로 계속 이동하는 라우팅 과정을 거쳐 패킷의 최종 목적지까지 도달하는 통신
    - 라우팅 : IP 주소를 찾아가는 과정

### 라우팅 테이블

- 게이트웨이와 모든 목적지에 대해 해당 목적지에 도달하기 위해 거쳐야 할 다음 라우터 정보를 담고 있음

### 게이트웨이

- 서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 관문 역할을 하는 SW/HW
- 라우팅 테이블을 확인하는 명령어 netstat -r을 실행하면 게이트웨이도 볼 수 있음

## IP 주소 체계

- IPv4
    - 32비트를 8비트 단위로 점을 찍어 표기
- IPv6
    - 64비트를 16비트 단위로 점을 찍어 표기

### 클래스 기반 할당 방식

- A, B, C, D, E 다섯 개의 클래스로 구분
- 앞 부분 : 네트워크 주소
- 뒷 부분 : 호스트 주소(컴퓨터에 부여하는 주소)
    
    ![Untitled (13)](https://github.com/hyejoojung719/CS-Study/assets/81564593/2faaf0a0-a2c8-42d1-9568-1321e27ee22e)
    
- 구분 비트(맨 왼쪽 비트)를 통해 클래스 구분 ex) 클래스 A는 0, B는 10, C는 110
- 네트워크의 첫 번쨰 주소는 네트워크 주소, 가장 마지막 주소는 브로드캐스트 주소로 사용한다. ⇒ 버리는 주소가 많아질 수 있어, 이를 해소하기 위해 DHCP, NAT, IPv6등장

### DHCP(Dynamic Host Configuration Protocol)

- 네트워크 관리 프로토콜
- 인터넷 접속 시 자동으로 IP 주소 할당
- 라우터와 게이트웨이 장비에 DHCP 기능이 있으며, 이를 통해 가정용 네트워크에서 IP 주소 할당

### NAT(Network Address Translation)

- 패킷의 IP 주소 정보를 수정하여 IP주소를 다른 주소로 매핑
- 사설 IP를 공인 IP로 변환하거나 공인 IP를  사설 IP로 변환하는 데 사용
- NAT을 사용하는 이유는 여러 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속하기 위함 ⇒ 공유기에 NAT 기능이 탑재되어 있어 여러 PC가 연결 가능
- 내부 네트워크에 대한 보안이 어느정도 가능
- 그러나, 실제 접속하는 호스트 수에 따라 접속 속도가 느려질 수 있음
